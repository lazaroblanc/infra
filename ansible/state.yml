- name: Deploy blnc.io services
  hosts: hetzner
  strategy: free

  tasks:
    - name: Create sshd configuration
      include_role:
        name: ssh

    - name: Common tasks for all servers
      include_role:
        name: common


    - name: Install Docker
      include_role:
        name: geerlingguy.docker

    - name: Install Python Package Manager (pip)
      ansible.builtin.apt:
        name: python3-pip
        state: present
        update_cache: yes

    - name: Install Docker Python SDK
      ansible.builtin.pip:
        name: docker
        state: present
